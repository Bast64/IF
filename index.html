<<<<<<< HEAD
<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen"/>
  <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>If</title>
  <meta name="description" content="Insulinothérapie Fonctionnelle">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">If</h1>
    </header>
    <div id="container">
      <p class="tagline">Insulinothérapie Fonctionnelle</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/Bast64/IF/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/Bast64/IF/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/Bast64/IF" class="code">View If on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h3>
<a name="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages"><span class="octicon octicon-link"></span></a>Welcome to GitHub Pages.</h3>

<p>This automatic page generator is the easiest way to create beautiful pages for all of your projects. Author your page content here using GitHub Flavored Markdown, select a template crafted by a designer, and publish. After your page is generated, you can check out the new branch:</p>

<pre><code>$ cd your_repo_root/repo_name
$ git fetch origin
$ git checkout gh-pages
</code></pre>

<p>If you're using the GitHub for Mac, simply sync your repository and you'll see the new branch.</p>

<h3>
<a name="designer-templates" class="anchor" href="#designer-templates"><span class="octicon octicon-link"></span></a>Designer Templates</h3>

<p>We've crafted some handsome templates for you to use. Go ahead and continue to layouts to browse through them. You can easily go back to edit your page before publishing. After publishing your page, you can revisit the page generator and switch to another theme. Your Page content will be preserved if it remained markdown format.</p>

<h3>
<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick"><span class="octicon octicon-link"></span></a>Rather Drive Stick?</h3>

<p>If you prefer to not use the automatic generator, push a branch named <code>gh-pages</code> to your repository to create a page manually. In addition to supporting regular HTML content, GitHub Pages support Jekyll, a simple, blog aware static site generator written by our own Tom Preston-Werner. Jekyll makes it easy to create site-wide headers and footers without having to copy them across every page. It also offers intelligent blog support and other advanced templating features.</p>

<h3>
<a name="authors-and-contributors" class="anchor" href="#authors-and-contributors"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>You can <a href="https://github.com/blog/821" class="user-mention">@mention</a> a GitHub username to generate a link to their profile. The resulting <code>&lt;a&gt;</code> element will link to the contributor's GitHub Profile. For example: In 2007, Chris Wanstrath (<a href="https://github.com/defunkt" class="user-mention">@defunkt</a>), PJ Hyett (<a href="https://github.com/pjhyett" class="user-mention">@pjhyett</a>), and Tom Preston-Werner (<a href="https://github.com/mojombo" class="user-mention">@mojombo</a>) founded GitHub.</p>

<h3>
<a name="support-or-contact" class="anchor" href="#support-or-contact"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Check out the documentation at <a href="http://help.github.com/pages">http://help.github.com/pages</a> or contact <a href="mailto:support@github.com">support@github.com</a> and we’ll help you sort it out.</p>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/Bast64" class="avatar"><img src="https://2.gravatar.com/avatar/9e83944214a97e93de634c73c53bae3f?d=https%3A%2F%2Fidenticons.github.com%2Ff8ebb446c7b33c1425cc1b1151a9d546.png&amp;r=x&amp;s=60" width="48" height="48"/></a> <a href="https://github.com/Bast64">Bast64</a> maintains <a href="https://github.com/Bast64/IF">If</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br/>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/Bast64/IF/tarball/master" class="tar">tar</a><a href="https://github.com/Bast64/IF/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
=======
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insulinothérapie Fonctionnelle</title>
		<link rel="icon" type="image/png" href="favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- Bootstrap -->
		<link href="css/bootstrap.css" type="text/css" rel="stylesheet"/>
		<style>
			header{
				margin:0!important;
				padding: 6px 0;
				background:#f1f1f1;
				border-color: #ddd;
			}
		</style>
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="js/html5shiv.js"></script>
			<script src="js/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
	
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title" id="myModalLabel">Paramètres d'IF</h4>
      </div>
      <div class="modal-body">
      	<form role="form">
      		<div class="form-group">
	          <label for="indice">Indice de sensibilité :</label>
	          <input type="number" class="form-control" id="indice" placeholder="Indice (g/L diminué par 1 UI)">
	        </div>
	        <div class="form-group">
	          <label for="coef1">Coefficient du matin :</label>
	          <input type="number" class="form-control" id="coef1" placeholder="Coefficient (UI pour 10g)">
	        </div>
	        <div class="form-group">
	          <label for="coef2">Coefficient du midi :</label>
	          <input type="number" class="form-control" id="coef2" placeholder="Coefficient (UI pour 10g)">
	        </div>
	        <div class="form-group">
	          <label for="coef3">Coefficient de l'aprés-midi :</label>
	          <input type="number" class="form-control" id="coef3" placeholder="Coefficient (UI pour 10g)">
	        </div>
	        <div class="form-group">
	          <label for="coef4">Coefficient du soir :</label>
	          <input type="number" class="form-control" id="coef4" placeholder="Coefficient (UI pour 10g)">
	        </div>
	        <div class="form-group">
	          <label for="coef5">Coefficient de nuit :</label>
	          <input type="number" class="form-control" id="coef5" placeholder="Coefficient (UI pour 10g)">
	        </div>
      	</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
        <button type="button" class="btn btn-primary" id="btn-save">Sauvegarder</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>


				<!-- Page principale -->
		<div id="content">
			<header class="row page-header">
				<div class="col-sm-4 col-xs-1">
					<button type="button" class="btn btn-default" id="btn-param">
						<span class="glyphicon glyphicon-lines"></span>
					</button>
				</div>
				<div class="col-sm-4 col-xs-12 text-center" style="margin:-6px 0;">
					<h4>Insulinothérapie Fonctionnelle</h4>
				</div>
				<div class="col-sm-4 hidden-xs">
					
				</div>
			</header>
			<div class="row" style="margin:0;">
			<div class="col-sm-4"></div>
			<div class="col-sm-4 col-xs-12">
				<div id="div-alert" style="padding-top: 5px;"></div>
				<form role="form">
					<div class="form-group">
			          <label for="repas">Heure du repas :</label>
			          <div class="btn-group" style="display:block;height: 34px;">
				          <button class="btn btn-default btn-block dropdown-toggle" type="button" data-toggle="dropdown">
							<span id="btn-repas" coef="coef1">Matin</span> <span class="caret"></span>
							</button>
							<ul class="dropdown-menu" role="menu" style="width:100%;" id="list-repas">
								<li><a href="#" id="coef1">Matin</a></li>
								<li><a href="#" id="coef2">Midi</a></li>
								<li><a href="#" id="coef3">Aprés-midi</a></li>
								<li><a href="#" id="coef4">Soir</a></li>
								<li><a href="#" id="coef4">Nuit</a></li>
							</ul>
						</div>
			        </div>
			        <div class="form-group">
			          <label for="glycemie">Glycémie avant repas :</label>
			          <input type="number" class="form-control" id="glycemie" placeholder="Glycémie (g/dL)">
			        </div>
			        
	
					
					<div class="form-group">
			          <label for="glucides">Glucides du repas :</label>
			          <input type="number" class="form-control" id="glucides" placeholder="Glucides (grammes)">
			        </div>
			        <div class="form-group">
						<button class="btn btn-primary btn-block" id="btn-calcul">Calculer</button>
			        </div>
			        <div class="form-group">
						<button class="btn btn-primary btn-block" id="btn-calcul-save">Calculer et enregistrer</button>
			        </div>
				</form>
			</div>
			<div class="col-sm-4"></div>
		</div>
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="js/jquery.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="js/bootstrap.min.js"></script>
		<!-- Snap-->
		<script type="text/javascript" src="js/snap.min.js"></script>
		<script type="text/javascript">
			$("#btn-calcul").click(function(e){
				e.preventDefault();
				calcul();
			});
			$("#btn-calcul-save").click(function(e){
				e.preventDefault();
				calcul();
			});
			function calcul(){
				//correction unité
				if($("#glycemie").val()>10){
					$("#glycemie").val($("#glycemie").val()/100);
				}
				//verification param
				if(localStorage.getItem("indice") == null || localStorage.getItem("coef1") == null || localStorage.getItem("coef2") == null || localStorage.getItem("coef3") == null || localStorage.getItem("coef4") == null || localStorage.getItem("coef5") == null){
					$("#div-alert").html('<div class="alert alert-warning"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>Les paramètres doivent être enregistrés via le bouton <button type="button" class="btn btn-default" onClick="openParam();"><span class="glyphicon glyphicon-lines"></span></button></div>');
				}else{
				
					var soigner = 0;
					var manger = 0;
	
					if($("#glycemie").val() != ""){
						var glycemie = $("#glycemie").val();
						if( glycemie < 0.80){
							soigner = Math.round((1 - glycemie)/localStorage.getItem("indice")*-1);
						}
						if( glycemie > 1.20){
							soigner = Math.round((glycemie - 1.20)/localStorage.getItem("indice"));
						}
					}
					
					var coef;
					if($("#btn-repas").attr("coef") == "coef1"){
						coef = localStorage.getItem("coef1");
					}else if($("#btn-repas").attr("coef") == "coef2"){
						coef = localStorage.getItem("coef2");
					}else if($("#btn-repas").attr("coef") == "coef3"){
						coef = localStorage.getItem("coef3");
					}else if($("#btn-repas").attr("coef") == "coef4"){
						coef = localStorage.getItem("coef4");
					}else{
						coef = localStorage.getItem("coef5");
					}
					manger = Math.round($("#glucides").val()/10*coef);
					
					var total = manger + soigner;
					var signe = "+";
					if(soigner <0){
						signe = "-";
						soigner = soigner * -1;
					}
					$("#div-alert").html('<div class="alert alert-success"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>Valeur d\'insuline à ajouter : <b>'+ total +'</b> ('+ manger +''+ signe + ''+ soigner +')</div>');
				}
			}
			$("#btn-param").click(function(e){
				//charger les valeurs en local
				$("#indice").val(localStorage.getItem("indice"));
				$("#coef1").val(localStorage.getItem("coef1"));
				$("#coef2").val(localStorage.getItem("coef2"));
				$("#coef3").val(localStorage.getItem("coef3"));
				$("#coef4").val(localStorage.getItem("coef4"));
				$("#coef5").val(localStorage.getItem("coef5"));
				$('#myModal').modal();
			});
			$("#btn-save").click(function(e){
				//sauvegarde
				localStorage.setItem("indice", $("#indice").val());
				localStorage.setItem("coef1", $("#coef1").val());
				localStorage.setItem("coef2", $("#coef2").val());
				localStorage.setItem("coef3", $("#coef3").val());
				localStorage.setItem("coef4", $("#coef4").val());
				localStorage.setItem("coef5", $("#coef5").val());
				$('#myModal').modal('hide')
			});
			$("#list-repas a").click(function(e){
				e.preventDefault();
				$("#btn-repas").html($(this).html());
				$("#btn-repas").attr("coef",$(this).attr("id"));
			});
			$(window).load(function(){
				var date = new Date();
				var heure = date.getHours();
				if(heure >= 11 && heure <15){
					$("#btn-repas").html("Midi");
					$("#btn-repas").attr("coef","coef2");
				}else if(heure >= 15 && heure <19){
					$("#btn-repas").html("Aprés-midi");
					$("#btn-repas").attr("coef","coef3");
				}else if(heure >= 19 && heure <22){
					$("#btn-repas").html("Soir");
					$("#btn-repas").attr("coef","coef4");
				}else if(heure >= 22 && heure <6){
					$("#btn-repas").html("Nuit");
					$("#btn-repas").attr("coef","coef5");
				}
			});
			function openParam(){
				$("#indice").val(localStorage.getItem("indice"));
				$("#coef1").val(localStorage.getItem("coef1"));
				$("#coef2").val(localStorage.getItem("coef2"));
				$("#coef3").val(localStorage.getItem("coef3"));
				$("#coef4").val(localStorage.getItem("coef4"));
				$("#coef5").val(localStorage.getItem("coef5"));
				$('#myModal').modal();
			}
		</script>
	</body>
</html>
>>>>>>> master
